div(ng-controller='MarketsController as markets')

    .row.mt-3
        .col-6
            .col-xs-12.col-sm-6
                input.form-control(type='text', ng-model='searchKeyword', placeholder='Search')

        .col-6.text-right.align-content-end
            .form-check.form-check-inline
                input.form-check-input(type="checkbox" name="hidezero" id="hidezero" value="hide" ng-model='hideZeroBal')
                label.form-check-label(for="hidezero") Hide zero balances
            .form-check.form-check-inline
                input.form-check-input(type="checkbox" name="hidezero" id="useEUR" value="hide" ng-model='useEUR')
                label.form-check-label(for="useEUR") Denominate in EUR

    .row.mt-3
        .col-12
            table.table.table-hover.markets-table
                thead
                    tr
                        th(scope='col')
                        th(scope='col' ng-click="setOrderBy('symbol')") Market
                        th(scope='col' ng-click="setOrderBy('name')") Name
                        th(scope='col' ng-click="setOrderBy('balanceWallet')") Balance On Wallet
                        th(scope='col' ng-click="setOrderBy('balanceExchange')") Balance On Exchange
                        th(scope='col' ng-click="setOrderBy('bic')") Bid
                        th(scope='col' ng-click="setOrderBy('ask')") Ask
                        th(scope='col' ng-click="setOrderBy('vol')") 24h Volume

                tbody
                    tr(ng-repeat='market in markets | orderBy:orderByField:reverseSort | filter:searchKeyword track by market.symbol', ng-click='openExchange(market.symbol)', ng-hide='hideZeroBal && market.balanceExchange <= 0')
                        td
                            img(ng-src='img/markets/{{market.symbol}}-ETH.png' width='30')
                        td(ng-bind='market.symbol')
                        td(ng-bind='market.name')
                        td(ng-bind='market.balanceWallet.toFixed(2)')
                        td(ng-bind='market.balanceExchange.toFixed(2)')
                        //-td(ng-bind='market.change.toFixed(2)' ng-class='market.change >= 0 ? "positive" : "negative"')
                        td
                            div(ng-bind='::(market.bid.toFixed(8))')
                            div(class='label', ng-bind='fiatValue(market.bid)')
                        td
                            div(ng-bind='::(market.ask.toFixed(8))')
                            div(class='label', ng-bind='fiatValue(market.ask)')
                        td
                            div(ng-bind='::(market.vol.toFixed(8))')
                            div(class='label', ng-bind='fiatValue(market.vol)')
